<html>
<head>
<style>
body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
form {
            width: 300px; /* Adjust as needed */
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
</style>
</head>
<body>
<div>
<form  >
Enter email:
<input type="text" placeholder="Enter email" name="email" id="email">
<button type="submit" onclick="event.preventDefault();showEmp()">Search</button>
<button type="submit" formaction="adminHome.html">Back</button>
</form>
</div>
<div id="employee"></div>
<script>
function showEmp(){
	const email=document.getElementById('email').value;
	const data={
			email:email
	};
	fetch('/admin/viewEmployee',{
		method:'POST',
		headers:{
			'Content-Type':'application/json'
		},
		body:JSON.stringify(data)
	})
	.then(response=>response.json()) //response converting to object
	.then(data=>{ 
		const parentDiv=document.getElementById("employee");
		const employee=data;
		let skills = "";
		if (employee.haveSkills && employee.haveSkills.length > 0) {
	    employee.haveSkills.forEach(skill => {
	        skills += skill.skillName + ", ";
	    });
	    // Remove the trailing comma and space
	    skills = skills.slice(0, -2);
		}
		else {
	    skills = "No skills available";
		}
		parentDiv.innerHTML = `
            <h2>${employee.firstName} ${employee.lastName}</h2>
            <p>Email: ${employee.email}</p>
            <p>Address: ${employee.address}</p>
            <p>Phone: ${employee.phone}</p>
            <p>Gender: ${employee.gender}</p>
            <p>Role: ${employee.role}</p>
            <p>Date of Birth: ${employee.dob}</p>
            <p>Skills:${skills}</p>
        `;
	}).catch(error => console.error('Error fetching unassigned employees:', error));
};
</script>
</body>
</html>