<html>
<head>
</head>
<body>
<div id="employeeList"></div>
<script>
let promise=fetch("/admin/getAllEmployee")
promise.then(response => response.json())
.then(data=>{
    const employeeListDiv = document.getElementById('employeeList');
    // Iterate over each employee and create HTML elements to display their information
    data.forEach(employee => {
        const employeeDiv = document.createElement('div');
    // Iterate over the skills and create a comma-separated string
    let skills = "";
	if (employee.haveSkills && employee.haveSkills.length > 0) {
    employee.haveSkills.forEach(skill => {
        skills += skill.skillName + ", ";
    });
    // Remove the trailing comma and space
    skills = skills.slice(0, -2);
	}
	else {
    skills = "No skills available";
	}
        employeeDiv.innerHTML = `
            <h2>${employee.firstName} ${employee.lastName}</h2>
            <p>Email: ${employee.email}</p>
            <p>Address: ${employee.address}</p>
            <p>Phone: ${employee.phone}</p>
            <p>Gender: ${employee.gender}</p>
            <p>Role: ${employee.role}</p>
            <p>Date of Birth: ${employee.dob}</p>
            <p>Skills:${skills}</p>
        `;
        employeeListDiv.appendChild(employeeDiv);
});  
    })
.catch(error => console.error('Error fetching unassigned employees:', error));
</script>
</body>
</html>